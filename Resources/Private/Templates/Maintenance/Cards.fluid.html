<f:layout name="Cards"/>

<f:section name="headline">
    <h1>Maintenance</h1>
</f:section>

<f:section name="cards">
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Flush TYPO3 and PHP Cache', subtitle: 'Caching', icon: 'EXT:install/Resources/Public/Icons/modules/install-clear-cache.svg'}" />
        <div class="card-body">
            <p class="card-text">Clear all registered TYPO3 caches, including opcode and dependency injection cache.</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-inline="1"  data-import="@typo3/install/module/maintenance/cache.js">Flush cache</button>
        </div>
    </div>
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Analyze Database Structure', subtitle: 'Database', icon: 'EXT:install/Resources/Public/Icons/modules/install-database-analyze.svg'}" />
        <div class="card-body">
            <p class="card-text">Compare and update the database table and field definitions of your installation against the specification defined for activated extension.</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-import="@typo3/install/module/maintenance/database-analyzer.js">Analyze database&hellip;</button>
        </div>
    </div>
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Remove Temporary Assets', subtitle: 'Caching', icon: 'EXT:install/Resources/Public/Icons/modules/install-clear-files.svg'}" />
        <div class="card-body">
            <p class="card-text">Clear temporary files including concatenated JS/CSS files and processed images.</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-import="@typo3/install/module/maintenance/clear-typo3temp-files.js">Scan temporary files&hellip;</button>
        </div>
    </div>
    <div class="card card-size-small {f:if(condition:'{composerMode}', then: 'card-disabled')}">
        <f:render partial="Card/Header" arguments="{ title: 'Rebuild PHP Autoload Information', subtitle: 'Caching', icon: 'EXT:install/Resources/Public/Icons/modules/install-clear-autoload.svg'}" />
        <div class="card-body">
            <p class="card-text">Reset autoload information for active third party extensions.</p>
        </div>
        <f:if condition="{composerMode}">
            <f:then>
                <div class="card-footer text-variant">
                    This feature is unavailable because the installation is running in Composer mode.
                    Guide: <a href="https://docs.typo3.org/m/typo3/reference-coreapi/main/en-us/ApiOverview/Autoloading/Index.html#loading-classes-with-composer-mode" target="_blank" rel="noreferrer">Composer dumpautoload</a>.
                </div>
            </f:then>
            <f:else>
                <div class="card-footer">
                    <button type="button" class="btn btn-default" data-inline="1"  data-import="@typo3/install/module/maintenance/dump-autoload.js">Dump autoload</button>
                </div>
            </f:else>
        </f:if>
    </div>
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Clear Persistent Database Tables', subtitle: 'Database', icon: 'EXT:install/Resources/Public/Icons/modules/install-clear-database.svg'}" />
        <div class="card-body">
            <p class="card-text">Truncate persistent database tables which are not related to caching.</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-import="@typo3/install/module/maintenance/clear-tables.js">Scan tables&hellip;</button>
        </div>
    </div>
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Check and Update Reference Index', subtitle: 'Database', icon: 'EXT:install/Resources/Public/Icons/modules/install-database-analyze.svg'}" />
        <div class="card-body">
            <p class="card-text">Verify the reference index for inconsistencies or rebuild it to update database relations.</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-import="@typo3/install/module/maintenance/reference-index.js">Manage reference index&hellip;</button>
        </div>
    </div>
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Create Administrative User', subtitle: 'Backend Users', icon: 'EXT:install/Resources/Public/Icons/modules/install-create-admin.svg'}" />
        <div class="card-body">
            <p class="card-text">Create new administrative users and grant them system maintainer privileges (optional).</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-modal-size="small" data-import="@typo3/install/module/maintenance/create-admin.js">Create Administrator&hellip;</button>
        </div>
    </div>
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Reset Backend User Preferences', subtitle: 'Backend Users', icon: 'EXT:install/Resources/Public/Icons/modules/install-reset-user.svg'}" />
        <div class="card-body">
            <p class="card-text">Clear preferences and settings for all backend users. This action permanently deletes all user-specific data in the database table <code>be_users</code>.</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-inline="1"  data-import="@typo3/install/module/maintenance/reset-backend-user-uc.js">Reset backend user preferences</button>
        </div>
    </div>
    <div class="card card-size-small">
        <f:render partial="Card/Header" arguments="{ title: 'Manage Language Packs', subtitle: 'Language', icon: 'EXT:install/Resources/Public/Icons/modules/install-manage-language.svg'}" />
        <div class="card-body">
            <p class="card-text">Download and update language packs for installed extensions and the TYPO3 backend.</p>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" data-import="@typo3/install/module/maintenance/language-packs.js">Manage languages&hellip;</button>
        </div>
    </div>
</f:section>
